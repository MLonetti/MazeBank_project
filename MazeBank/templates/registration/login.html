{% extends "home.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}Login - MazeBank{% endblock %}

{% block content %}
<div class="container my-5 py-5" style="max-width: 600px;">
    <div class="card shadow-lg border-0">
        <div class="card-body p-5">
            <h2 class="text-center mb-4 text-mazebank-red font-weight-bold" style="letter-spacing:1px; font-size:2.2rem;">Accedi al tuo conto</h2>
            <p class="text-center mb-4" style="color:#555; font-size:1.15rem;">
                Inserisci le tue credenziali per accedere a MazeBank.
            </p>
            <form method="post">
                {% csrf_token %}
                {{ form|crispy }}
                <button type="submit" class="btn btn-mazebank-account btn-block mt-4 py-2 font-weight-bold" style="font-size:1.2rem;">
                    Login
                </button>
            </form>
        </div>
    </div>
</div>

{% if request.GET.registration == "succesfull" %}
  <div aria-live="polite" aria-atomic="true"
       style="position: fixed; top: 7vh; left: 50%; transform: translateX(-50%); z-index: 1080; width: 100%; display: flex; justify-content: center; pointer-events: none;">
    <div class="toast mazebank-toast" id="registrationToast" role="alert" data-delay="4000" style="pointer-events: auto;">
      <div class="toast-header mazebank-toast-header">
        <strong class="mr-auto">Congratulazioni!</strong>
        <small>MazeBank</small>
        <button type="button" class="ml-2 mb-1 close text-white" data-dismiss="toast" aria-label="Chiudi">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="toast-body mazebank-toast-body">
        Benvenuto in Maze Bank! Registrazione avvenuta con successo.<br>
        Accedi ed esplora il mondo Maze Bank.
      </div>
    </div>
  </div>
{% endif %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var registrationToast = document.getElementById('registrationToast');
    if (registrationToast) {
      var toast = new bootstrap.Toast(registrationToast, { delay: 4000 });
      toast.show();
    }
  });
</script>
{% endblock %}
